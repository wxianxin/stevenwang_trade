<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%">  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #75715e"># Django tutorial</span>
<span style="color: #75715e">################################################################################</span>
<span style="color: #75715e"># Quick procedures of django deployment</span>
<span style="color: #ae81ff">1.</span> <span style="color: #f8f8f2">setup</span> <span style="color: #f8f8f2">database</span> <span style="color: #f8f8f2">server</span>
<span style="color: #ae81ff">2.</span> <span style="color: #f8f8f2">get</span> <span style="color: #f8f8f2">files</span>

<span style="color: #ae81ff">2.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">models</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">models</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #ae81ff">3.</span> <span style="color: #f8f8f2">include</span> <span style="color: #f8f8f2">app</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">setting</span> <span style="color: #f8f8f2">under</span> <span style="color: #f8f8f2">INSTALLED_APPS</span>
<span style="color: #ae81ff">4.</span> <span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">makemigrations</span> <span style="color: #f8f8f2">my_app</span>
<span style="color: #ae81ff">5.</span> <span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">migrate</span>
<span style="color: #ae81ff">6.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">folder</span> <span style="color: #f8f8f2">my_app</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">static</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">my_app</span>
<span style="color: #ae81ff">7.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">templates</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">my_app</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">templates</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">my_app;</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">style</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">css</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">static</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">my_app</span>
<span style="color: #ae81ff">8.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">views</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #ae81ff">9.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">url</span> <span style="color: #f8f8f2">patterns</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">urls</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #ae81ff">8.</span> 

<span style="color: #f8f8f2">Admin</span>
<span style="color: #ae81ff">1.</span> <span style="color: #f92672">import</span> <span style="color: #f8f8f2">and</span> <span style="color: #f8f8f2">register</span> <span style="color: #f8f8f2">created</span> <span style="color: #f8f8f2">models</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">my_app</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">admin</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #75715e">################################################################################</span>
<span style="color: #75715e">################################################################################</span>
<span style="color: #75715e"># Quick procedures of creating an app</span>
<span style="color: #ae81ff">1.</span> <span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">startapp</span> <span style="color: #f8f8f2">my_app</span>
<span style="color: #ae81ff">2.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">models</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">models</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #ae81ff">3.</span> <span style="color: #f8f8f2">include</span> <span style="color: #f8f8f2">app</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">setting</span> <span style="color: #f8f8f2">under</span> <span style="color: #f8f8f2">INSTALLED_APPS</span>
<span style="color: #ae81ff">4.</span> <span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">makemigrations</span> <span style="color: #f8f8f2">my_app</span>
<span style="color: #ae81ff">5.</span> <span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">migrate</span>
<span style="color: #ae81ff">6.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">folder</span> <span style="color: #f8f8f2">my_app</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">static</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">my_app</span>
<span style="color: #ae81ff">7.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">templates</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">my_app</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">templates</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">my_app;</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">style</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">css</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">static</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">my_app</span>
<span style="color: #ae81ff">8.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">views</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #ae81ff">9.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">url</span> <span style="color: #f8f8f2">patterns</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">urls</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #ae81ff">8.</span> 

<span style="color: #f8f8f2">Admin</span>
<span style="color: #ae81ff">1.</span> <span style="color: #f92672">import</span> <span style="color: #f8f8f2">and</span> <span style="color: #f8f8f2">register</span> <span style="color: #f8f8f2">created</span> <span style="color: #f8f8f2">models</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">my_app</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">admin</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #75715e">################################################################################</span>

<span style="color: #75715e"># Django is dynamic website framework </span>
<span style="color: #75715e"># Django design principle</span>
<span style="color: #75715e"># MVC	Model View Controller</span>
<span style="color: #75715e"># MVC is a software architectural pattern for implementing user interfaces on computers。</span>
    <span style="color: #75715e">## Model:  Interface to your data</span>
    	<span style="color: #75715e">### The model is the central component of the pattern</span>
        <span style="color: #75715e">### Each model is class with class variables that represent fields in Database</span>
        <span style="color: #75715e">### We create columns names and datatypes and allow the database to create tables</span>
	<span style="color: #75715e">##  View:   User Interface</span>
		<span style="color: #75715e">### A view can be any output representation of information</span>
	<span style="color: #75715e">##  Controller: accepts input and converts it to commands for the model or view</span>
<span style="color: #75715e"># DRY	Do not repeat yourself</span>
<span style="color: #75715e"># APP: MVC DRY Design Principle //dynamic</span>
<span style="color: #75715e"># Default DB is SQLite3</span>
<span style="color: #75715e">################################################################################</span>
<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python</span> <span style="color: #f92672">-</span><span style="color: #f8f8f2">m</span> <span style="color: #f8f8f2">pip</span> <span style="color: #f8f8f2">install</span> <span style="color: #f8f8f2">django</span>
<span style="color: #75715e"># doc</span>
<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">django</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">admin</span> <span style="color: #f8f8f2">startproject</span> <span style="color: #e6db74">&quot;Name of Project&quot;</span>
<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">django</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">admin</span> <span style="color: #f8f8f2">startproject</span> <span style="color: #f8f8f2">mysite</span>

<span style="color: #75715e"># Configure apache with django</span>
<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">sudo</span> <span style="color: #f8f8f2">apt</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">get</span> <span style="color: #f8f8f2">install</span> <span style="color: #f8f8f2">libapache2</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">mod</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">wsgi</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">py3</span>
<span style="color: #75715e">################################################################################</span>
<span style="color: #f8f8f2">FILE</span> <span style="color: #f8f8f2">STRUCTURE</span>
<span style="color: #75715e"># $ cd {&quot;Name of Project&quot;}</span>

<span style="color: #75715e"># there are multiple files in the folder</span>
<span style="color: #f8f8f2">mysite</span><span style="color: #f92672">/</span> 
    <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
    <span style="color: #f8f8f2">mysite</span><span style="color: #f92672">/</span>
        <span style="color: #f8f8f2">__init__</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
        <span style="color: #f8f8f2">settings</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
        <span style="color: #f8f8f2">urls</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
        <span style="color: #f8f8f2">wsgi</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
	
    <span style="color: #75715e">## 1. manage.py: A command-line utility that lets you interact with this Django project in various ways.</span>
    <span style="color: #75715e">## 2. The inner mysite/ directory is the actual Python package for your project. Its name is the Python package name you will need to use to import anything inside it (e.g. mysite.urls).</span>
    <span style="color: #75715e">## 3. mysite/__init__.py: An empty file that tells Python that this directory should be considered a Python package.</span>
    <span style="color: #75715e">## 4. mysite/settings.py: Settings/configuration for this Django project. Django settings will tell you all about how settings work.</span>

<span style="color: #75715e"># settings.py</span>
    <span style="color: #75715e">## A settings file is just a Python module with module-level variables.</span>
    <span style="color: #75715e">## set timezone</span>
    <span style="color: #f8f8f2">TIME_ZONE</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;UTC&#39;</span>
    <span style="color: #75715e">## set database</span>
    <span style="color: #f8f8f2">DATABASE</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span>
        
    <span style="color: #f8f8f2">}</span>
    <span style="color: #75715e">## Add a path for static files</span>

    <span style="color: #f8f8f2">STATIC_ROOT</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">os</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">path</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">join(BASE_DIR,</span> <span style="color: #e6db74">&#39;static/&#39;</span><span style="color: #f8f8f2">)</span>

<span style="color: #75715e"># mysite/urls.py: The URL declarations for this Django project; a table of contents of your Django-powered site.</span>
    <span style="color: #f8f8f2">url(</span><span style="color: #e6db74">r&#39;^regex$&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">my_view_function,</span> <span style="color: #f8f8f2">kwargs,</span> <span style="color: #f8f8f2">name</span><span style="color: #f92672">=</span><span style="color: #e6db74">&#39;url_name&#39;</span><span style="color: #f8f8f2">)</span>
    <span style="color: #75715e">## The url() function is passed four arguments, two required: </span>
    	<span style="color: #75715e">### regex， view,</span>
    <span style="color: #75715e">## two optional: </span>
    	<span style="color: #75715e">### kwargs, name</span>
    <span style="color: #75715e">## always use &#39;include()&#39;, except admin</span>
    <span style="color: #75715e">## When Django finds a regular expression match, Django calls the specified view function, with an HttpRequest object as the first argument and any “captured” values from the regular expression as other arguments. If the regex uses simple captures, values are passed as positional arguments; if it uses named captures, values are passed as keyword arguments.</span>


<span style="color: #75715e"># mysite/wsgi.py: An entry-point for WSGI-compatible web servers to serve your project.</span>
<span style="color: #75715e">################################################################################</span>
<span style="color: #f8f8f2">DEVELOPMENT</span> <span style="color: #f8f8f2">SERVER</span>
<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">runserver</span>
<span style="color: #75715e"># Built-in Django development server</span>
<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">runserver</span> <span style="color: #ae81ff">8080</span>
<span style="color: #75715e"># change to other port instead of default 8000</span>
<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">runserver</span> <span style="color: #ae81ff">0.0</span><span style="color: #f92672">.</span><span style="color: #ae81ff">0.0</span><span style="color: #f8f8f2">:</span><span style="color: #ae81ff">80</span>
<span style="color: #75715e"># accessible from outside</span>
<span style="color: #75715e">################################################################################</span>
<span style="color: #f8f8f2">APP</span>
<span style="color: #75715e"># A project can contain multiple apps. An app can be in multiple projects.</span>

<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">startapp</span> <span style="color: #f8f8f2">polls</span>
<span style="color: #75715e"># That will create an app directory polls, which is laid out like this:</span>
<span style="color: #f8f8f2">polls</span><span style="color: #f92672">/</span>
    <span style="color: #f8f8f2">__init__</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
    <span style="color: #f8f8f2">admin</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
    <span style="color: #f8f8f2">apps</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
    <span style="color: #f8f8f2">migrations</span><span style="color: #f92672">/</span>
        <span style="color: #f8f8f2">__init__</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
    <span style="color: #f8f8f2">models</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
    <span style="color: #f8f8f2">tests</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
    <span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>


<span style="color: #75715e">################################################################################</span>
<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">cd</span> <span style="color: #f8f8f2">mysite</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">mysite</span>
<span style="color: #ae81ff">1.</span> <span style="color: #f8f8f2">Create</span> <span style="color: #f8f8f2">functions</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #ae81ff">2.</span> <span style="color: #f8f8f2">Add</span> <span style="color: #f8f8f2">url</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">urls</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #ae81ff">3.</span> <span style="color: #f8f8f2">Test</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">browser</span>
<span style="color: #75715e"># Basically speaking, you link the url to your python codes and when the url is called, the server run the python script and return its result.</span>
<span style="color: #75715e">################################################################################</span>
<span style="color: #f8f8f2">Model:</span>

<span style="color: #ae81ff">0.</span> <span style="color: #f8f8f2">Create</span> <span style="color: #f8f8f2">models</span>
	<span style="color: #75715e"># Each model is represented by a class that subclasses django.db.models.Model. Each model has a number of class variables, each of which represents a database field in the model.</span>
	<span style="color: #75715e"># Each field is represented by an instance of a Field class – e.g., CharField for character fields and DateTimeField for datetimes. This tells Django what type of data each field holds.</span>
	<span style="color: #75715e"># The name of each Field instance (e.g. question_text or pub_date) is the field’s name, in machine-friendly format. You’ll use this value in your Python code, and your database will use it as the column name.</span>
	<span style="color: #75715e"># Some Field classes have required arguments. CharField, for example, requires that you give it a max_length. That’s used not only in the database schema, but in validation.</span>
	<span style="color: #75715e"># A Field can also have various optional arguments; in this case, we’ve set the default value of votes to 0.</span>
    <span style="color: #75715e"># Primary key: If you’d like to specify a custom primary key, just specify primary_key=True on one of your fields.</span>
	<span style="color: #75715e"># Note a relationship is defined, using ForeignKey. That tells Django each Choice is related to a single Question. Django supports all the common database relationships: many-to-one, many-to-many, and one-to-one.</span>
    <span style="color: #75715e"># __str__(): It’s important to add __str__() methods to your models, not only for your own convenience when dealing with the interactive prompt, but also because objects’ representations are used throughout Django’s automatically-generated admin.</span>
<span style="color: #ae81ff">1.</span> <span style="color: #f8f8f2">Create</span> <span style="color: #f8f8f2">the</span> <span style="color: #66d9ef">class</span> <span style="color: #a6e22e">that</span> <span style="color: #f8f8f2">generates</span> <span style="color: #f8f8f2">tables</span><span style="color: #f92672">.</span>
<span style="color: #ae81ff">2.</span> <span style="color: #f8f8f2">Activating</span> <span style="color: #f8f8f2">models:tell</span> <span style="color: #f8f8f2">our</span> <span style="color: #f8f8f2">project</span> <span style="color: #f8f8f2">that</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">polls</span> <span style="color: #f8f8f2">app</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">installed</span> <span style="color: #f92672">-</span> <span style="color: #f8f8f2">add</span> <span style="color: #f8f8f2">reference</span> <span style="color: #f92672">in</span> <span style="color: #e6db74">&#39;site/settings.py&#39;</span>
    <span style="color: #f8f8f2">Add</span> <span style="color: #f8f8f2">app</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">settings</span>
<span style="color: #ae81ff">3.</span> <span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python3</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">makemigrations</span> <span style="color: #f8f8f2">polls</span>
	<span style="color: #75715e"># Migrations are entirely derived from your models file, and are essentially just a history that Django can roll through to update your database schema to match your current models.</span>
    <span style="color: #75715e"># By running makemigrations, you&#39;re telling Django that you&#39;ve made some changes to your models and that you&#39;d like the changes to be stored as a migration.</span>
    <span style="color: #75715e"># Migrations are how Django stores changes to your models (and thus your database schema) - they&#39;re just files on disk. You can read the migration for your new model if you likae; it&#39;s the file polls/migrations/0001_initial.py.</span>
<span style="color: #ae81ff">3.1</span> <span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">sqlmigrate</span> <span style="color: #f8f8f2">polls</span> <span style="color: #ae81ff">0001</span>
    <span style="color: #75715e"># show SQL codes</span>
    <span style="color: #75715e"># Table names are automatically generated by combining the name of the app (polls) and the lowercase name of the model(One can override this.)</span>
    <span style="color: #75715e"># By convention, Django appends &quot;_id&quot; to the foreign key field name.	</span>
<span style="color: #ae81ff">4.</span> <span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python3</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">migrate</span>
    <span style="color: #75715e"># The migrate command takes all the migrations that haven&#39;t been applied (Django tracks which ones are applied using a special table in your database called django_migrations) and runs them against your database - essentially, synchronizing the changes you made to your models with the schema in the database.</span>


<span style="color: #75715e"># Three-step guide to making model changes:</span>
<span style="color: #ae81ff">1.</span> <span style="color: #f8f8f2">Change</span> <span style="color: #f8f8f2">your</span> <span style="color: #f8f8f2">models</span> <span style="color: #f8f8f2">(</span><span style="color: #f92672">in</span> <span style="color: #f8f8f2">models</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py)</span><span style="color: #f92672">.</span>
<span style="color: #ae81ff">2.</span> <span style="color: #f8f8f2">Run</span> <span style="color: #e6db74">&quot;python manage.py makemigrations&quot;</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">migrations</span> <span style="color: #66d9ef">for</span> <span style="color: #f8f8f2">those</span> <span style="color: #f8f8f2">changes</span>
<span style="color: #ae81ff">3.</span> <span style="color: #f8f8f2">Run</span> <span style="color: #e6db74">&quot;python manage.py migrate&quot;</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">apply</span> <span style="color: #f8f8f2">those</span> <span style="color: #f8f8f2">changes</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">database</span><span style="color: #f92672">.</span>

<span style="color: #75715e"># Django API: We can add data to the DB using the Python shell</span>
<span style="color: #ae81ff">1.</span> <span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python3</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">shell</span>
<span style="color: #ae81ff">2.</span> <span style="color: #f8f8f2">Import</span> <span style="color: #f8f8f2">Models</span> <span style="color: #f8f8f2">:</span> <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f92672">from</span> <span style="color: #f8f8f2">polls.models</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">Question,</span> <span style="color: #f8f8f2">Choice</span>
<span style="color: #ae81ff">3.</span> <span style="color: #f8f8f2">Display</span> <span style="color: #f8f8f2">Questions</span> <span style="color: #f8f8f2">:</span> <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">Question</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">objects</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">all()</span>
<span style="color: #ae81ff">4.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">Question</span>
<span style="color: #ae81ff">5.</span> <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.utils</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">timezone</span>
<span style="color: #ae81ff">6.</span> <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">q</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">Question(question_text</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;What&#39;s New?&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">pub_date</span><span style="color: #f92672">=</span><span style="color: #f8f8f2">timezone</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">now())</span>
<span style="color: #ae81ff">7.</span> <span style="color: #f8f8f2">Save</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">DB</span> <span style="color: #f8f8f2">:</span> <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">q</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">save()</span>
<span style="color: #ae81ff">8.</span> <span style="color: #f8f8f2">Get</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">questions</span> <span style="color: #f8f8f2">id</span> <span style="color: #f8f8f2">:</span> <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">q</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">id</span>
<span style="color: #ae81ff">9.</span> <span style="color: #f8f8f2">Get</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">questions</span> <span style="color: #f8f8f2">text</span> <span style="color: #f8f8f2">:</span> <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">q</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">question_text</span>
<span style="color: #ae81ff">10.</span> <span style="color: #f8f8f2">Change</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">question</span> <span style="color: #f8f8f2">:</span> <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">q</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">question_text</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;What&#39;s Up?&quot;</span>
<span style="color: #ae81ff">11.</span> <span style="color: #f8f8f2">Save</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">change</span> <span style="color: #f8f8f2">:</span> <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">q</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">save()</span>
<span style="color: #ae81ff">12.</span> <span style="color: #f8f8f2">database</span> <span style="color: #f8f8f2">lookup</span> <span style="color: #f8f8f2">API</span> <span style="color: #f8f8f2">driven</span> <span style="color: #f8f8f2">by</span> <span style="color: #f8f8f2">keyword:</span>
    <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">Question</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">objects</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">filter(id</span><span style="color: #f92672">=</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">)</span>
    <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">Question</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">objects</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">filter(question_text__startswith</span><span style="color: #f92672">=</span><span style="color: #e6db74">&#39;What&#39;</span><span style="color: #f8f8f2">)</span>
    <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">current_year</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">timezone</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">now()</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">year</span>
    <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">Question</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">objects</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">get(pub_date__year</span><span style="color: #f92672">=</span><span style="color: #f8f8f2">current_year)</span>
<span style="color: #ae81ff">12.</span> <span style="color: #f8f8f2">shortcut</span> <span style="color: #66d9ef">for</span> <span style="color: #f8f8f2">primary</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">key</span> <span style="color: #f8f8f2">exact</span> <span style="color: #f8f8f2">lookups</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">(The</span> <span style="color: #f8f8f2">following</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">identical</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">Question</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">objects</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">get(id</span><span style="color: #f92672">=</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">)</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">)</span>
    <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">Question</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">objects</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">get(pk</span><span style="color: #f92672">=</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">)</span>
<span style="color: #ae81ff">13.</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">choice:</span>
    <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">q</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">choice_set</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">create(choice_text</span><span style="color: #f92672">=</span><span style="color: #e6db74">&#39;Not much&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">votes</span><span style="color: #f92672">=</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">)</span>
    <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">c</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">q</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">choice_set</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">filter(choice_text__startswith</span><span style="color: #f92672">=</span><span style="color: #e6db74">&#39;Just hacking&#39;</span><span style="color: #f8f8f2">)</span>
<span style="color: #ae81ff">14.</span> <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">q</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">choice_set</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">count()</span>
<span style="color: #ae81ff">15.</span> <span style="color: #f8f8f2">delete</span> <span style="color: #f8f8f2">one</span> <span style="color: #f8f8f2">of</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">choice:</span> <span style="color: #f92672">&gt;&gt;&gt;</span> <span style="color: #f8f8f2">c</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">delete()</span>

 
<span style="color: #75715e">################################################################################</span>
<span style="color: #f8f8f2">View:</span>
<span style="color: #75715e"># Each view is responsible for doing one of two things:</span>
<span style="color: #75715e">## returning an HttpResponse object containing the content for the requested page</span>
<span style="color: #75715e">## raising an exception such as Http404</span>

<span style="color: #75715e"># All Django wants is that HttpResponse. Or an exception.</span>
<span style="color: #75715e"># request is an HttpRequest object.</span>

<span style="color: #75715e"># Each view is represented by a function(method)</span>
<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">cd</span> <span style="color: #f8f8f2">mysite</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">mysite</span>
<span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.http</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">HttpResponse</span>
<span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.shortcuts</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">get_object_or_404</span>
<span style="color: #75715e"># Opens a 404 page if get doesn&#39;t supply a result</span>
<span style="color: #75715e"># There’s also a get_list_or_404()</span>
<span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.shortcuts</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">render</span>

<span style="color: #f92672">from</span> <span style="color: #f8f8f2">.models</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">Question,</span> <span style="color: #f8f8f2">Choice</span>
<span style="color: #75715e"># Import Question and Choice from our models file</span>

<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">index</span><span style="color: #f8f8f2">(request):</span>
    <span style="color: #f8f8f2">latest_question_list</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">Question</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">objects</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">order_by(</span><span style="color: #e6db74">&#39;-pub_date&#39;</span><span style="color: #f8f8f2">)[:</span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2">]</span>
    <span style="color: #f8f8f2">context</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span>
            <span style="color: #e6db74">&#39;latest_question_list&#39;</span><span style="color: #f8f8f2">:</span> <span style="color: #f8f8f2">latest_question_list,</span>
        <span style="color: #f8f8f2">}</span>
    <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">render(request,</span> <span style="color: #e6db74">&#39;polls/index.html&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">context)</span>
    <span style="color: #75715e"># Renders a page when it is passed a template and any data required by the template</span>

<span style="color: #66d9ef">def</span> <span style="color: #a6e22e">results</span><span style="color: #f8f8f2">(request,</span> <span style="color: #f8f8f2">question_id):</span>
    
    <span style="color: #f8f8f2">question</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">get_object_or_404(Question,</span> <span style="color: #f8f8f2">pk</span><span style="color: #f92672">=</span><span style="color: #f8f8f2">question_id)</span>
    <span style="color: #75715e"># The get_object_or_404() function takes a Django model as its first argument and an arbitrary number of keyword arguments, which it passes to the get() function of the model’s manager.</span>
    <span style="color: #75715e"># pk : primary key</span>

    <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">render(request,</span> <span style="color: #e6db74">&#39;polls/results.html&#39;</span><span style="color: #f8f8f2">,</span>
                  <span style="color: #f8f8f2">{</span><span style="color: #e6db74">&#39;question&#39;</span><span style="color: #f8f8f2">:</span> <span style="color: #f8f8f2">question})</span>


<span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.http</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">HttpResponseRedirect</span>
<span style="color: #75715e"># Used to avoid receiving data twice from a form if the user clicks the back button</span>
<span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.urls</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">reverse</span>


<span style="color: #75715e"># Use generic views: Less code is better</span>
<span style="color: #75715e">########################################</span>
    <span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.shortcuts</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">get_object_or_404,</span> <span style="color: #f8f8f2">render</span>
    <span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.http</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">HttpResponseRedirect</span>
    <span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.urls</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">reverse</span>
    <span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.views</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">generic</span>

    <span style="color: #f92672">from</span> <span style="color: #f8f8f2">.models</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">Choice,</span> <span style="color: #f8f8f2">Question</span>


    <span style="color: #66d9ef">class</span> <span style="color: #a6e22e">IndexView</span><span style="color: #f8f8f2">(generic</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">ListView):</span>
        <span style="color: #f8f8f2">template_name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;polls/index.html&#39;</span>
        <span style="color: #f8f8f2">context_object_name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;latest_question_list&#39;</span>

        <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">get_queryset</span><span style="color: #f8f8f2">(self):</span>
            <span style="color: #e6db74">&quot;&quot;&quot;Return the last five published questions.&quot;&quot;&quot;</span>
            <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">Question</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">objects</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">order_by(</span><span style="color: #e6db74">&#39;-pub_date&#39;</span><span style="color: #f8f8f2">)[:</span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2">]</span>


    <span style="color: #66d9ef">class</span> <span style="color: #a6e22e">DetailView</span><span style="color: #f8f8f2">(generic</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">DetailView):</span>
        <span style="color: #f8f8f2">model</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">Question</span>
        <span style="color: #f8f8f2">template_name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;polls/detail.html&#39;</span>


    <span style="color: #66d9ef">class</span> <span style="color: #a6e22e">ResultsView</span><span style="color: #f8f8f2">(generic</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">DetailView):</span>
        <span style="color: #f8f8f2">model</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">Question</span>
        <span style="color: #f8f8f2">template_name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;polls/results.html&#39;</span>

    <span style="color: #66d9ef">def</span> <span style="color: #a6e22e">vote</span><span style="color: #f8f8f2">(request,</span> <span style="color: #f8f8f2">question_id):</span>
    <span style="color: #f92672">...</span> <span style="color: #75715e"># same as before</span>
<span style="color: #75715e">########################################</span>

<span style="color: #75715e"># A common case of basic Web development: getting data from the database according to a parameter passed in the URL, loading a template and returning the rendered template. Because this is so common, Django provides a shortcut, called the &quot;generic views&quot; system.</span>

<span style="color: #75715e"># ListView and DetailView. Respectively, those two views abstract the concepts of &quot;display a list of objects&quot; and &quot;display a detail page for a particular type of object&quot;.</span>

    <span style="color: #75715e"># Each generic view needs to know what model it will be acting upon. This is provided using the model attribute.</span>
    <span style="color: #75715e"># The DetailView generic view expects the primary key value captured from the URL to be called &quot;pk&quot;, so we&#39;ve changed question_id to pk for the generic views.</span>

<span style="color: #75715e"># The DetailView generic view expects the primary key value captured from the URL to be called &quot;pk&quot;, so we’ve changed question_id to pk for the generic views.</span>
<span style="color: #75715e"># By default, the DetailView generic view uses a template called &lt;app name&gt;/&lt;model name&gt;_detail.html. In our case, it would use the template &quot;polls/question_detail.html&quot;. The template_name attribute is used to tell Django to use a specific template name instead of the autogenerated default template name.</span>
<span style="color: #75715e"># Similarly, the ListView generic view uses a default template called &lt;app name&gt;/&lt;model name&gt;_list.html; we use template_name to tell ListView to use our existing &quot;polls/index.html&quot; template.</span>
<span style="color: #75715e">################################################################################</span>
<span style="color: #f8f8f2">urls</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #f8f8f2">polls</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">urls</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>

<span style="color: #75715e">########################################</span>
    <span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.conf.urls</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">url</span>

    <span style="color: #f92672">from</span> <span style="color: #f8f8f2">.</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">views</span>

    <span style="color: #f8f8f2">app_name</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;polls&#39;</span>
    <span style="color: #75715e"># url namespacing</span>

    <span style="color: #f8f8f2">urlpatterns</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[</span>
        <span style="color: #75715e"># ex: /polls/</span>
        <span style="color: #f8f8f2">url(</span><span style="color: #e6db74">r&#39;^$&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">index,</span> <span style="color: #f8f8f2">name</span><span style="color: #f92672">=</span><span style="color: #e6db74">&#39;index&#39;</span><span style="color: #f8f8f2">),</span>
        <span style="color: #75715e"># ex: /polls/5/</span>
        <span style="color: #f8f8f2">url(</span><span style="color: #e6db74">r&#39;^(?P&lt;question_id&gt;[0-9]+)/$&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">detail,</span> <span style="color: #f8f8f2">name</span><span style="color: #f92672">=</span><span style="color: #e6db74">&#39;detail&#39;</span><span style="color: #f8f8f2">),</span>
        <span style="color: #75715e"># ex: /polls/5/results/</span>
        <span style="color: #f8f8f2">url(</span><span style="color: #e6db74">r&#39;^(?P&lt;question_id&gt;[0-9]+)/results/$&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">results,</span> <span style="color: #f8f8f2">name</span><span style="color: #f92672">=</span><span style="color: #e6db74">&#39;results&#39;</span><span style="color: #f8f8f2">),</span>
        <span style="color: #75715e"># ex: /polls/5/vote/</span>
        <span style="color: #f8f8f2">url(</span><span style="color: #e6db74">r&#39;^(?P&lt;question_id&gt;[0-9]+)/vote/$&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">vote,</span> <span style="color: #f8f8f2">name</span><span style="color: #f92672">=</span><span style="color: #e6db74">&#39;vote&#39;</span><span style="color: #f8f8f2">),</span>
    <span style="color: #f8f8f2">]</span>
<span style="color: #75715e">########################################</span>

<span style="color: #75715e"># ?P&lt;question_id&gt; defines the name that will be used to identify the matched pattern(corresponding to the argument name in views)</span>
<span style="color: #75715e"># [0-9]+ is a regular expression to match a sequence of digits (i.e., a number).</span>

<span style="color: #75715e"># Namespacing URL names</span>
<span style="color: #75715e"># In one django apps, there might be more than one app. Different apps might use same url name like &#39;detail&#39;. How does one make it so that Django knows which app view to create for a url when using the {% url %} template tag?</span>
<span style="color: #75715e"># The answer is to add namespaces to your URLconf. In the polls/urls.py file, go ahead and add an app_name to set the application namespace.</span>

<span style="color: #75715e">################################################################################</span>
<span style="color: #75715e"># Admin</span>
<span style="color: #75715e"># create an admin user</span>
<span style="color: #ae81ff">0.</span> <span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python3</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">createsuperuser</span>
<span style="color: #ae81ff">1.</span> <span style="color: #f8f8f2">login</span> <span style="color: #f8f8f2">at</span> <span style="color: #f8f8f2">url</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">admin</span><span style="color: #f92672">/</span>

<span style="color: #ae81ff">1.</span><span style="color: #f8f8f2">Modify</span> <span style="color: #f8f8f2">polls</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">admin</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">register</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">model</span> <span style="color: #f8f8f2">so</span> <span style="color: #f8f8f2">that</span> <span style="color: #f8f8f2">you</span> <span style="color: #f8f8f2">can</span> <span style="color: #f8f8f2">manage</span> <span style="color: #f8f8f2">under</span> <span style="color: #f8f8f2">admin</span> <span style="color: #f8f8f2">page</span>
<span style="color: #75715e"># Tell admin that our poll system has an admin interface</span>
      
    <span style="color: #f92672">from</span> <span style="color: #f8f8f2">django.contrib</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">admin</span>

    <span style="color: #f92672">from</span> <span style="color: #f8f8f2">.models</span> <span style="color: #66d9ef">import</span> <span style="color: #f8f8f2">Question</span>
    <span style="color: #75715e"># - Import Question</span>
    <span style="color: #f8f8f2">admin</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">site</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">register(Question)</span>
    <span style="color: #75715e"># - Register Question(the model) for showing in admin</span>

<span style="color: #75715e">################################################################################</span>
<span style="color: #75715e"># Template</span>
<span style="color: #ae81ff">0.</span> <span style="color: #f8f8f2">Create</span> <span style="color: #f8f8f2">new</span> <span style="color: #f8f8f2">folder</span> <span style="color: #f8f8f2">templates</span> <span style="color: #f8f8f2">(under</span> <span style="color: #f8f8f2">polls),</span> <span style="color: #f8f8f2">then</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">new</span> <span style="color: #f8f8f2">folder</span> <span style="color: #e6db74">&quot;polls&quot;</span> <span style="color: #f8f8f2">under</span> <span style="color: #f8f8f2">templates</span><span style="color: #f92672">.</span> <span style="color: #f8f8f2">Django</span> <span style="color: #f8f8f2">will</span> <span style="color: #f8f8f2">look</span> <span style="color: #66d9ef">for</span> <span style="color: #f8f8f2">templates</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">there</span><span style="color: #f92672">.</span>
    <span style="color: #f8f8f2">Within</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">templates</span> <span style="color: #f8f8f2">directory</span> <span style="color: #f8f8f2">you</span> <span style="color: #f8f8f2">have</span> <span style="color: #f8f8f2">just</span> <span style="color: #f8f8f2">created,</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">another</span> <span style="color: #f8f8f2">directory</span> <span style="color: #f8f8f2">called</span> <span style="color: #f8f8f2">polls,</span> <span style="color: #f92672">and</span> <span style="color: #f8f8f2">within</span> <span style="color: #f8f8f2">that</span> <span style="color: #f8f8f2">create</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">file</span> <span style="color: #f8f8f2">called</span> <span style="color: #f8f8f2">index</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">html</span><span style="color: #f92672">.</span>
    <span style="color: #f8f8f2">Your</span> <span style="color: #f8f8f2">template</span> <span style="color: #f8f8f2">should</span> <span style="color: #f8f8f2">be</span> <span style="color: #f8f8f2">at</span> <span style="color: #f8f8f2">polls</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">templates</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">polls</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">index</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">html</span><span style="color: #f92672">.</span>
    <span style="color: #f8f8f2">You</span> <span style="color: #f8f8f2">can</span> <span style="color: #f8f8f2">refer</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">this</span> <span style="color: #f8f8f2">template</span> <span style="color: #f8f8f2">within</span> <span style="color: #f8f8f2">Django</span> <span style="color: #f8f8f2">simply</span> <span style="color: #66d9ef">as</span> <span style="color: #f8f8f2">polls</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">index</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">html</span><span style="color: #f92672">.</span>
    <span style="color: #75715e"># Template namespacing</span>
    <span style="color: #f8f8f2">Now</span> <span style="color: #f8f8f2">we</span> <span style="color: #f8f8f2">might</span> <span style="color: #f8f8f2">be</span> <span style="color: #f8f8f2">able</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">get</span> <span style="color: #f8f8f2">away</span> <span style="color: #66d9ef">with</span> <span style="color: #f8f8f2">putting</span> <span style="color: #f8f8f2">our</span> <span style="color: #f8f8f2">templates</span> <span style="color: #f8f8f2">directly</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">polls</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">templates</span> <span style="color: #f8f8f2">but</span> <span style="color: #f8f8f2">it</span> <span style="color: #f8f8f2">would</span> <span style="color: #f8f8f2">actually</span> <span style="color: #f8f8f2">be</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">bad</span> <span style="color: #f8f8f2">idea</span><span style="color: #f92672">.</span> <span style="color: #f8f8f2">Django</span> <span style="color: #f8f8f2">will</span> <span style="color: #f8f8f2">choose</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">first</span> <span style="color: #f8f8f2">template</span> <span style="color: #f8f8f2">it</span> <span style="color: #f8f8f2">finds</span> <span style="color: #f8f8f2">whose</span> <span style="color: #f8f8f2">name</span> <span style="color: #f8f8f2">matches,</span> <span style="color: #f92672">and</span> <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">you</span> <span style="color: #f8f8f2">had</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">template</span> <span style="color: #66d9ef">with</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">same</span> <span style="color: #f8f8f2">name</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">different</span> <span style="color: #f8f8f2">application,</span> <span style="color: #f8f8f2">Django</span> <span style="color: #f8f8f2">would</span> <span style="color: #f8f8f2">be</span> <span style="color: #f8f8f2">unable</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">distinguish</span> <span style="color: #f8f8f2">between</span> <span style="color: #f8f8f2">them</span><span style="color: #f92672">.</span> <span style="color: #f8f8f2">We</span> <span style="color: #f8f8f2">need</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">be</span> <span style="color: #f8f8f2">able</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">point</span> <span style="color: #f8f8f2">Django</span> <span style="color: #f8f8f2">at</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">right</span> <span style="color: #f8f8f2">one,</span> <span style="color: #f92672">and</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">easiest</span> <span style="color: #f8f8f2">way</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">ensure</span> <span style="color: #f8f8f2">this</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">by</span> <span style="color: #f8f8f2">namespacing</span> <span style="color: #f8f8f2">them</span><span style="color: #f92672">.</span> <span style="color: #f8f8f2">That</span> <span style="color: #f92672">is</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">by</span> <span style="color: #f8f8f2">putting</span> <span style="color: #f8f8f2">those</span> <span style="color: #f8f8f2">templates</span> <span style="color: #f8f8f2">inside</span> <span style="color: #f8f8f2">another</span> <span style="color: #f8f8f2">directory</span> <span style="color: #f8f8f2">named</span> <span style="color: #66d9ef">for</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">application</span> <span style="color: #f8f8f2">itself</span><span style="color: #f92672">.</span>
<span style="color: #ae81ff">1.</span> <span style="color: #f8f8f2">Modify</span> <span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">render</span> <span style="color: #f8f8f2">templates</span><span style="color: #f92672">.</span>
    <span style="color: #f8f8f2">We</span> <span style="color: #f8f8f2">can</span> <span style="color: #f8f8f2">user</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">shortcut:</span> <span style="color: #f8f8f2">render(),</span> <span style="color: #f8f8f2">so</span> <span style="color: #f8f8f2">that</span> <span style="color: #f8f8f2">we</span> <span style="color: #f8f8f2">no</span> <span style="color: #f8f8f2">longer</span> <span style="color: #f8f8f2">need</span> <span style="color: #f8f8f2">to</span> <span style="color: #f92672">import</span> <span style="color: #f8f8f2">loader</span> <span style="color: #f92672">and</span> <span style="color: #f8f8f2">HttpResponse</span><span style="color: #f92672">.</span>
<span style="color: #ae81ff">2.</span> <span style="color: #f8f8f2">Template</span> <span style="color: #f8f8f2">system</span>

<span style="color: #ae81ff">2.1</span> <span style="color: #f8f8f2">The</span> <span style="color: #f8f8f2">template</span> <span style="color: #f8f8f2">system</span> <span style="color: #f8f8f2">uses</span> <span style="color: #f8f8f2">dot</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">lookup</span> <span style="color: #f8f8f2">syntax</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">access</span> <span style="color: #f8f8f2">variable</span> <span style="color: #f8f8f2">attributes</span><span style="color: #f92672">.</span>
    <span style="color: #f8f8f2">First</span> <span style="color: #f8f8f2">Django</span> <span style="color: #f8f8f2">does</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">dictionary</span> <span style="color: #f8f8f2">lookup</span> <span style="color: #f8f8f2">on</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">object</span> <span style="color: #f8f8f2">question</span><span style="color: #f92672">.</span>
    <span style="color: #f8f8f2">Failing</span> <span style="color: #f8f8f2">that,</span> <span style="color: #f8f8f2">it</span> <span style="color: #f8f8f2">tries</span> <span style="color: #f8f8f2">an</span> <span style="color: #f8f8f2">attribute</span> <span style="color: #f8f8f2">lookup</span><span style="color: #960050; background-color: #1e0010">。</span>
    <span style="color: #f8f8f2">Failing</span> <span style="color: #f8f8f2">that</span> <span style="color: #f8f8f2">again,</span> <span style="color: #f8f8f2">it</span> <span style="color: #f8f8f2">would</span><span style="color: #960050; background-color: #1e0010">’</span><span style="color: #f8f8f2">ve</span> <span style="color: #f8f8f2">tried</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">list</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">index</span> <span style="color: #f8f8f2">lookup</span><span style="color: #f92672">.</span>

<span style="color: #ae81ff">2.2</span> <span style="color: #f8f8f2">Removing</span> <span style="color: #f8f8f2">hardcoded</span> <span style="color: #f8f8f2">URLs</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">templates</span>
    <span style="color: #f8f8f2">The</span> <span style="color: #f8f8f2">problem</span> <span style="color: #66d9ef">with</span> <span style="color: #f8f8f2">hardcoded,</span> <span style="color: #f8f8f2">tightly</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">coupled</span> <span style="color: #f8f8f2">approach</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">that</span> <span style="color: #f8f8f2">it</span> <span style="color: #f8f8f2">becomes</span> <span style="color: #f8f8f2">challenging</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">change</span> <span style="color: #f8f8f2">URLs</span> <span style="color: #f8f8f2">on</span> <span style="color: #f8f8f2">projects</span> <span style="color: #66d9ef">with</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">lot</span> <span style="color: #f8f8f2">of</span> <span style="color: #f8f8f2">templates</span><span style="color: #f92672">.</span>
    <span style="color: #f8f8f2">However,</span> <span style="color: #f8f8f2">since</span> <span style="color: #f8f8f2">you</span> <span style="color: #f8f8f2">defined</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">name</span> <span style="color: #f8f8f2">argument</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">url()</span> <span style="color: #f8f8f2">functions</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">polls</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">urls</span> <span style="color: #f8f8f2">module,</span> <span style="color: #f8f8f2">you</span> <span style="color: #f8f8f2">can</span> <span style="color: #f8f8f2">remove</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">reliance</span> <span style="color: #f8f8f2">on</span> <span style="color: #f8f8f2">specific</span> <span style="color: #f8f8f2">URL</span> <span style="color: #f8f8f2">paths</span> <span style="color: #f8f8f2">defined</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">your</span> <span style="color: #f8f8f2">url</span> <span style="color: #f8f8f2">configurations</span> <span style="color: #f8f8f2">by</span> <span style="color: #f8f8f2">using</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #f8f8f2">url</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span> <span style="color: #f8f8f2">template</span> <span style="color: #f8f8f2">tag:</span>

    <span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">li</span><span style="color: #f92672">&gt;&lt;</span><span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">href</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;{% url &#39;detail&#39; question.id %}&quot;</span><span style="color: #f92672">&gt;</span><span style="color: #f8f8f2">{{</span> <span style="color: #f8f8f2">question</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">question_text</span> <span style="color: #f8f8f2">}}</span><span style="color: #f92672">&lt;/</span><span style="color: #f8f8f2">a</span><span style="color: #f92672">&gt;&lt;/</span><span style="color: #f8f8f2">li</span><span style="color: #f92672">&gt;</span>
    <span style="color: #f8f8f2">The</span> <span style="color: #f8f8f2">way</span> <span style="color: #f8f8f2">this</span> <span style="color: #f8f8f2">works</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">by</span> <span style="color: #f8f8f2">looking</span> <span style="color: #f8f8f2">up</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">URL</span> <span style="color: #f8f8f2">definition</span> <span style="color: #66d9ef">as</span> <span style="color: #f8f8f2">specified</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">polls</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">urls</span> <span style="color: #f8f8f2">module(the</span> <span style="color: #f8f8f2">URL</span> <span style="color: #f8f8f2">name</span> <span style="color: #f8f8f2">of</span> <span style="color: #e6db74">&#39;detail&#39;</span><span style="color: #f8f8f2">)</span>
    <span style="color: #f8f8f2">In</span> <span style="color: #f8f8f2">this</span> <span style="color: #f8f8f2">way,</span> <span style="color: #f8f8f2">you</span> <span style="color: #f8f8f2">only</span> <span style="color: #f8f8f2">need</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">modify</span> <span style="color: #f8f8f2">urls</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span><span style="color: #f92672">.</span>

<span style="color: #ae81ff">3.</span> <span style="color: #f8f8f2">Django</span> <span style="color: #f8f8f2">template</span> <span style="color: #f8f8f2">language</span>
    <span style="color: #f8f8f2">(</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">Variables</span>

    <span style="color: #f8f8f2">A</span> <span style="color: #f8f8f2">variable</span> <span style="color: #f8f8f2">outputs</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">value</span> <span style="color: #f92672">from</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">context,</span> <span style="color: #f8f8f2">which</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">dict</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">like</span> <span style="color: #f8f8f2">object</span> <span style="color: #f8f8f2">mapping</span> <span style="color: #f8f8f2">keys</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">values</span><span style="color: #f92672">.</span>

    <span style="color: #f8f8f2">Variables</span> <span style="color: #f8f8f2">are</span> <span style="color: #f8f8f2">surrounded</span> <span style="color: #f8f8f2">by</span> <span style="color: #f8f8f2">{{</span> <span style="color: #f92672">and</span> <span style="color: #f8f8f2">}}</span> <span style="color: #f8f8f2">like</span> <span style="color: #f8f8f2">this:</span>

        <span style="color: #f8f8f2">My</span> <span style="color: #f8f8f2">first</span> <span style="color: #f8f8f2">name</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">{{</span> <span style="color: #f8f8f2">first_name</span> <span style="color: #f8f8f2">}}</span><span style="color: #f92672">.</span> <span style="color: #f8f8f2">My</span> <span style="color: #f8f8f2">last</span> <span style="color: #f8f8f2">name</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">{{</span> <span style="color: #f8f8f2">last_name</span> <span style="color: #f8f8f2">}}</span><span style="color: #f92672">.</span>

    <span style="color: #f8f8f2">With</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">context</span> <span style="color: #f8f8f2">of</span> <span style="color: #f8f8f2">{</span><span style="color: #e6db74">&#39;first_name&#39;</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&#39;John&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&#39;last_name&#39;</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&#39;Doe&#39;</span><span style="color: #f8f8f2">},</span> <span style="color: #f8f8f2">this</span> <span style="color: #f8f8f2">template</span> <span style="color: #f8f8f2">renders</span> <span style="color: #f8f8f2">to:</span>

        <span style="color: #f8f8f2">My</span> <span style="color: #f8f8f2">first</span> <span style="color: #f8f8f2">name</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">John</span><span style="color: #f92672">.</span> <span style="color: #f8f8f2">My</span> <span style="color: #f8f8f2">last</span> <span style="color: #f8f8f2">name</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">Doe</span><span style="color: #f92672">.</span>

    <span style="color: #f8f8f2">Dictionary</span> <span style="color: #f8f8f2">lookup,</span> <span style="color: #f8f8f2">attribute</span> <span style="color: #f8f8f2">lookup</span> <span style="color: #f92672">and</span> <span style="color: #f8f8f2">list</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">index</span> <span style="color: #f8f8f2">lookups</span> <span style="color: #f8f8f2">are</span> <span style="color: #f8f8f2">implemented</span> <span style="color: #66d9ef">with</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">dot</span> <span style="color: #f8f8f2">notation:</span>

    <span style="color: #f8f8f2">{{</span> <span style="color: #f8f8f2">my_dict</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">key</span> <span style="color: #f8f8f2">}}</span>
    <span style="color: #f8f8f2">{{</span> <span style="color: #f8f8f2">my_object</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">attribute</span> <span style="color: #f8f8f2">}}</span>
    <span style="color: #f8f8f2">{{</span> <span style="color: #f8f8f2">my_list</span><span style="color: #f92672">.</span><span style="color: #ae81ff">0</span> <span style="color: #f8f8f2">}}</span>

    <span style="color: #f8f8f2">If</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">variable</span> <span style="color: #f8f8f2">resolves</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">callable,</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">template</span> <span style="color: #f8f8f2">system</span> <span style="color: #f8f8f2">will</span> <span style="color: #f8f8f2">call</span> <span style="color: #f8f8f2">it</span> <span style="color: #66d9ef">with</span> <span style="color: #f8f8f2">no</span> <span style="color: #f8f8f2">arguments</span> <span style="color: #f92672">and</span> <span style="color: #f8f8f2">use</span> <span style="color: #f8f8f2">its</span> <span style="color: #f8f8f2">result</span> <span style="color: #f8f8f2">instead</span> <span style="color: #f8f8f2">of</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">callable</span><span style="color: #f92672">.</span>

    <span style="color: #f8f8f2">(</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">Tags</span>

    <span style="color: #f8f8f2">Tags</span> <span style="color: #f8f8f2">provide</span> <span style="color: #f8f8f2">arbitrary</span> <span style="color: #f8f8f2">logic</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">rendering</span> <span style="color: #f8f8f2">process</span><span style="color: #f92672">.</span>

    <span style="color: #f8f8f2">This</span> <span style="color: #f8f8f2">definition</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">deliberately</span> <span style="color: #f8f8f2">vague</span><span style="color: #f92672">.</span> <span style="color: #f8f8f2">For</span> <span style="color: #f8f8f2">example,</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">tag</span> <span style="color: #f8f8f2">can</span> <span style="color: #f8f8f2">output</span> <span style="color: #f8f8f2">content,</span> <span style="color: #f8f8f2">serve</span> <span style="color: #66d9ef">as</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">control</span> <span style="color: #f8f8f2">structure</span> <span style="color: #f8f8f2">e</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">g</span><span style="color: #f92672">.</span> <span style="color: #f8f8f2">an</span> <span style="color: #960050; background-color: #1e0010">“</span><span style="color: #66d9ef">if</span><span style="color: #960050; background-color: #1e0010">”</span> <span style="color: #f8f8f2">statement</span> <span style="color: #f92672">or</span> <span style="color: #f8f8f2">a</span> <span style="color: #960050; background-color: #1e0010">“</span><span style="color: #66d9ef">for</span><span style="color: #960050; background-color: #1e0010">”</span> <span style="color: #f8f8f2">loop,</span> <span style="color: #f8f8f2">grab</span> <span style="color: #f8f8f2">content</span> <span style="color: #f92672">from</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">database,</span> <span style="color: #f92672">or</span> <span style="color: #f8f8f2">even</span> <span style="color: #f8f8f2">enable</span> <span style="color: #f8f8f2">access</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">other</span> <span style="color: #f8f8f2">template</span> <span style="color: #f8f8f2">tags</span><span style="color: #f92672">.</span>

    <span style="color: #f8f8f2">Tags</span> <span style="color: #f8f8f2">are</span> <span style="color: #f8f8f2">surrounded</span> <span style="color: #f8f8f2">by</span> <span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #f92672">and</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span> <span style="color: #f8f8f2">like</span> <span style="color: #f8f8f2">this:</span>

        <span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #f8f8f2">csrf_token</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span>

    <span style="color: #f8f8f2">Most</span> <span style="color: #f8f8f2">tags</span> <span style="color: #f8f8f2">accept</span> <span style="color: #f8f8f2">arguments:</span>

        <span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #f8f8f2">cycle</span> <span style="color: #e6db74">&#39;odd&#39;</span> <span style="color: #e6db74">&#39;even&#39;</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span>

    <span style="color: #f8f8f2">Some</span> <span style="color: #f8f8f2">tags</span> <span style="color: #f8f8f2">require</span> <span style="color: #f8f8f2">beginning</span> <span style="color: #f92672">and</span> <span style="color: #f8f8f2">ending</span> <span style="color: #f8f8f2">tags:</span>

        <span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">user</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">is_authenticated</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}Hello,</span> <span style="color: #f8f8f2">{{</span> <span style="color: #f8f8f2">user</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">username</span> <span style="color: #f8f8f2">}}</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #f8f8f2">endif</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span>

    <span style="color: #f8f8f2">(</span><span style="color: #ae81ff">3</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">Filters</span>

    <span style="color: #f8f8f2">(</span><span style="color: #ae81ff">4</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">Comments</span>

    <span style="color: #f8f8f2">Comments</span> <span style="color: #f8f8f2">look</span> <span style="color: #f8f8f2">like</span> <span style="color: #f8f8f2">this:</span>

        <span style="color: #f8f8f2">{</span><span style="color: #75715e"># this won&#39;t be rendered #}</span>

        <span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #f8f8f2">comment</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span> <span style="color: #f8f8f2">tag</span> <span style="color: #f8f8f2">provides</span> <span style="color: #f8f8f2">multi</span><span style="color: #f92672">-</span><span style="color: #f8f8f2">line</span> <span style="color: #f8f8f2">comments</span><span style="color: #f92672">.</span> <span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #f8f8f2">comment</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span>




<span style="color: #f8f8f2">Template</span> <span style="color: #f8f8f2">example:</span>

<span style="color: #f92672">&lt;</span><span style="color: #960050; background-color: #1e0010">!</span><span style="color: #f92672">--</span> <span style="color: #ae81ff">5</span> <span style="color: #f8f8f2">If</span> <span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">list</span> <span style="color: #f8f8f2">of</span> <span style="color: #f8f8f2">questions</span> <span style="color: #f92672">is</span> <span style="color: #f8f8f2">available</span> <span style="color: #f8f8f2">create</span>
<span style="color: #f8f8f2">an</span> <span style="color: #f8f8f2">unordered</span> <span style="color: #f8f8f2">list</span> <span style="color: #f8f8f2">of</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">questions</span> <span style="color: #f92672">or</span> <span style="color: #f8f8f2">print</span>
<span style="color: #f8f8f2">that</span> <span style="color: #f8f8f2">none</span> <span style="color: #f8f8f2">are</span> <span style="color: #f8f8f2">available</span> <span style="color: #f92672">--&gt;</span>
<span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">latest_question_list</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span>
    <span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">ul</span><span style="color: #f92672">&gt;</span>
        <span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #66d9ef">for</span> <span style="color: #f8f8f2">question</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">latest_question_list</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span>
            <span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">li</span><span style="color: #f92672">&gt;</span>
                <span style="color: #f92672">&lt;</span><span style="color: #960050; background-color: #1e0010">!</span><span style="color: #f92672">--</span> <span style="color: #ae81ff">5</span> <span style="color: #f8f8f2">url</span> <span style="color: #f8f8f2">defines</span> <span style="color: #f8f8f2">directory</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">open</span> <span style="color: #f8f8f2">based</span>
                 <span style="color: #f8f8f2">on</span> <span style="color: #f8f8f2">using</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">namespace</span> <span style="color: #f8f8f2">defined</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">polls</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">urls</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
                 <span style="color: #f92672">and</span> <span style="color: #f8f8f2">the</span> <span style="color: #f8f8f2">url</span> <span style="color: #f8f8f2">defined</span> <span style="color: #f92672">in</span> <span style="color: #f8f8f2">sampsite</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">urls</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f92672">--&gt;</span>
                <span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">a</span> <span style="color: #f8f8f2">href</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;{% url &#39;polls:detail&#39; question.id %}&quot;</span><span style="color: #f92672">&gt;</span><span style="color: #f8f8f2">{{question</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">question_text}}</span><span style="color: #f92672">&lt;/</span><span style="color: #f8f8f2">a</span><span style="color: #f92672">&gt;</span>
            <span style="color: #f92672">&lt;/</span><span style="color: #f8f8f2">li</span><span style="color: #f92672">&gt;</span>
        <span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #f8f8f2">endfor</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span>
    <span style="color: #f92672">&lt;/</span><span style="color: #f8f8f2">ul</span><span style="color: #f92672">&gt;</span>
<span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #66d9ef">else</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span>
    <span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">p</span><span style="color: #f92672">&gt;</span><span style="color: #f8f8f2">No</span> <span style="color: #f8f8f2">polls</span> <span style="color: #f8f8f2">are</span> <span style="color: #f8f8f2">available</span><span style="color: #f92672">&lt;/</span><span style="color: #f8f8f2">p</span><span style="color: #f92672">&gt;</span>
<span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #f8f8f2">endif</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span>
 
<span style="color: #f92672">&lt;</span><span style="color: #960050; background-color: #1e0010">!</span><span style="color: #f92672">--</span> <span style="color: #ae81ff">5</span> <span style="color: #f8f8f2">Back</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">polls</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">to</span> <span style="color: #f8f8f2">update</span> <span style="color: #f8f8f2">index</span> <span style="color: #f92672">--&gt;</span>

<span style="color: #75715e">################################################################################</span>
<span style="color: #75715e"># form</span>
<span style="color: #75715e"># https://www.w3schools.com/html/html_forms.asp</span>
<span style="color: #75715e"># submit button: &lt;input type=&quot;submit&quot;&gt; defines a button for submitting the form data to a form-handler.</span>
<span style="color: #75715e"># The form-handler is typically a server page with a script for processing input data.</span>
<span style="color: #75715e"># The form-handler is specified in the form&#39;s action attribute</span>

<span style="color: #75715e"># The action attribute defines the action to be performed when the form is submitted.</span>

<span style="color: #75715e"># The default method when submitting form data is GET.</span>
<span style="color: #75715e"># However, when GET is used, the submitted form data will be visible in the page address field</span>
<span style="color: #75715e"># Always use POST if the form data contains sensitive or personal information. The POST method does not display the submitted form data in the page address field.</span>



<span style="color: #75715e"># Since we’re creating a POST form (which can have the effect of modifying data), we need to worry about Cross Site Request Forgeries. Thankfully, you don’t have to worry too hard, because Django comes with a very easy-to-use system for protecting against it. In short, all POST forms that are targeted at internal URLs should use the {% csrf_token %} template tag.</span>

<span style="color: #75715e"># Whenever you create a form that alters data server-side, use method=&quot;post&quot;.</span>


<span style="color: #75715e">################################################################################</span>
<span style="color: #75715e">################################################################################</span>
<span style="color: #75715e"># static files</span>
<span style="color: #75715e"># Create a directory called static in your polls directory. Django will look for static files there, similarly to how Django finds templates inside polls/templates/.</span>
<span style="color: #75715e"># Within the static directory you have just created, create another directory called polls and within that create a file called style.css. In other words, your stylesheet should be at polls/static/polls/style.css. Because of how the AppDirectoriesFinder staticfile finder works, you can refer to this static file in Django simply as polls/style.css, similar to how you reference the path for templates.</span>
<span style="color: #75715e"># Static file namespacing: Django will choose the first static file it finds whose name matches, and if you had a static file with the same name in a different application, Django would be unable to distinguish between them. We need to be able to point Django at the right one, and the easiest way to ensure this is by namespacing them. That is, by putting those static files inside another directory named for the application itself.</span>

<span style="color: #75715e"># add the following at the top of polls/templates/polls/index.html:</span>
<span style="color: #f8f8f2">{</span><span style="color: #f92672">%</span> <span style="color: #f8f8f2">load</span> <span style="color: #f8f8f2">static</span> <span style="color: #f92672">%</span><span style="color: #f8f8f2">}</span>
<span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">link</span> <span style="color: #f8f8f2">rel</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;stylesheet&quot;</span> <span style="color: #f8f8f2">type</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;text/css&quot;</span> <span style="color: #f8f8f2">href</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;{% static &#39;polls/style.css&#39; %}&quot;</span> <span style="color: #f92672">/&gt;</span>
<span style="color: #75715e"># The {% static %} template tag generates the absolute URL of static files</span>

<span style="color: #75715e">################################################################################</span>
<span style="color: #75715e"># django remove app</span>
<span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">sqlclear</span> <span style="color: #f8f8f2">my_app</span>
<span style="color: #f8f8f2">my_site</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">settings</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #75715e"># modify INSTALLED_APPS</span>

<span style="color: #75715e">################################################################################</span>
<span style="color: #960050; background-color: #1e0010">$</span>	<span style="color: #f8f8f2">python</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">startapp</span> <span style="color: #f8f8f2">blog</span>
<span style="color: #75715e"># get block in a database and post it to page</span>
<span style="color: #960050; background-color: #1e0010">$</span>	<span style="color: #f8f8f2">cd</span> <span style="color: #f8f8f2">blog</span> 
<span style="color: #f8f8f2">__init__</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #f8f8f2">model</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #75715e">## Model:   Interface to your data</span>
<span style="color: #75715e"># we define all the data structures we need in this file. and run a command then all the databases are created for you</span>
<span style="color: #f8f8f2">views</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #75715e">##  View:   User Interface</span>
<span style="color: #75715e"># We write the code that actually generates the webpages.</span>
<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">vim</span> <span style="color: #f8f8f2">blog</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">models</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span>
<span style="color: #75715e"># To create a database table, we write a class</span>
<span style="color: #66d9ef">class</span> <span style="color: #a6e22e">posts</span><span style="color: #f8f8f2">(models</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">Model):</span>
<span style="color: #75715e"># inherit from this class</span>
    <span style="color: #f8f8f2">author</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">models</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">CharField(max_length</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">50</span><span style="color: #f8f8f2">)</span>
    <span style="color: #75715e"># This is type field of strings</span>
    <span style="color: #f8f8f2">title</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">models</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">CharField(max_length</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">100</span><span style="color: #f8f8f2">)</span>
    <span style="color: #f8f8f2">body_text</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">models</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">TextField()</span>
    <span style="color: #f8f8f2">timestamp</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">models</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">DateTimeField()</span>

<span style="color: #75715e"># mysql</span>
<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">mysql</span> <span style="color: #f92672">-</span><span style="color: #f8f8f2">u</span> <span style="color: #f8f8f2">root</span> <span style="color: #f92672">-</span><span style="color: #f8f8f2">p</span>
    <span style="color: #f8f8f2">UPDATE</span> <span style="color: #f8f8f2">mysql</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">user</span> <span style="color: #f8f8f2">SET</span> <span style="color: #f8f8f2">Password</span><span style="color: #f92672">=</span><span style="color: #f8f8f2">PASSWORD(</span><span style="color: #e6db74">&#39;skynet&#39;</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">FLUSH</span> <span style="color: #f8f8f2">PRIVILEGES;</span>

    <span style="color: #f8f8f2">CREATE</span> <span style="color: #f8f8f2">DATABASE</span> <span style="color: #f8f8f2">myblog;</span>

<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python3</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">runserver</span>

<span style="color: #960050; background-color: #1e0010">$</span> <span style="color: #f8f8f2">python3</span> <span style="color: #f8f8f2">manage</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">py</span> <span style="color: #f8f8f2">migrate</span>
<span style="color: #75715e"># THis will update the database, can only add new ones, cannot alter existing ones.</span>
<span style="color: #75715e"># Run this every time you change the models</span>
</pre></td></tr></table></div>

